@model Sales.Web.ViewModel.SalesOrderViewModel
@using System.Web.Script.Serialization;

@{
    ViewBag.Title = "Details";

    string data = new JavaScriptSerializer().Serialize(Model);
}

@section scripts {
    <script src="~/Scripts/knockout-3.4.2.js"></script>
    <script src="~/Scripts/knockout.mapping-latest.js"></script>
    <script src="~/Scripts/salesorderviewmodel.js"></script>

    <script type="text/javascript">
        console.dir(@Html.Raw(data));

        var salesOrderModel = new SalesOrderViewModel(@Html.Raw(data));
        ko.applyBindings(salesOrderModel);
    </script>
}

<h2>Details</h2>
<p>
    <span data-bind="text: MessageToClient"></span>
</p>

<div>
    <h4>SalesOrder</h4>
    <hr />

    <div>
        <div>
            <label>Customer Name</label>
            <span data-bind="text:CustomerName"></span>
        </div>

        <div>
            <label>Po Number</label>
            <span data-bind="text:PONumber"></span>
        </div>
    </div>

</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.SalesOrderId }) |
    @Html.ActionLink("Back to List", "Index")
</p>
